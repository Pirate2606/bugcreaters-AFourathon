{% extends "base.html" %}

{% block head %}
<title>All Projects</title>
{% endblock %}

{% block content %}

    <div class="container">
        <form method="POST">
            <input name="week" type="week">
            <button type="submit">Submit</button>
        </form>
    </div>
    <main role="main" class="container mb-2">
        <section class="pt-2">
            <table class="table table shadow bg-white rounded table-hover">
                <thead style="background-color: #e1e5ea;">
                    <tr class="py-3">
                        <th class="py-3" scope="col">#</th>
                        <th class="py-3 d-none d-lg-table-cell" scope="col">Project Name</th>
                        <th class="py-3 d-none d-lg-table-cell" scope="col">Start Date</th>
                        <th class="py-3 d-none d-lg-table-cell" scope="col">End Date</th>
                        <th class="py-3 d-none d-lg-table-cell" scope="col">Project Manager</th>
                        <th class="py-3 d-none d-lg-table-cell" scope="col">Details</th>
                        <th class="py-3 d-none d-lg-table-cell" scope="col">Update</th>
                        <th class="py-3 d-none d-lg-table-cell" scope="col">Delete</th>
                    </tr>
                </thead>
                <tbody>
                    {% for project in all_projects %}
                    <tr class='clickable-row' style="cursor: default;">
                        <th class="py-3" scope="row">{{ loop.index }}</th>
                        <td class="pb-2 pt-3 d-none d-lg-table-cell">
                            {{ project.project_name }}
                        </td>
                        <td class="pb-2 pt-3 d-none d-lg-table-cell">
                            {{ project.project_start_date.strftime('%d %b, %Y') }}                      
                        </td>
                        <td class="pb-2 pt-3 d-none d-lg-table-cell">
                            {{ project.project_end_date.strftime('%d %b, %Y') }}
                        </td>
                        <td class="pb-2 pt-3">
                            {{ project.project_manager_name }}
                        </td>
                        <td class="pb-2 pt-3 d-none d-lg-table-cell">
                            <button class="btn btn-sm btn-primary">Details</button>
                        </td>
                        <td class="pb-2 pt-3 d-none d-lg-table-cell"> 
                            <a href="{{ url_for('edit_project', project_id=project.project_id) }}" 
                               class="btn btn-sm btn-success">Update</a>
                        </td>
                        <td class="pb-2 pt-3 d-none d-lg-table-cell"> 
                            <a href="{{ url_for('delete_project', project_id=project.project_id) }}"
                               class="btn btn-sm btn-danger">Delete</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    </main>

{% endblock %}